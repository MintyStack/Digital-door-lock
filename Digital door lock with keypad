// ---------------- Digital Door Lock with Keypad ----------------
// Components: Arduino Uno, 4x4 Keypad, Buzzer, LEDs
// Author: Nandhika Sri (GitHub Project)
// ----------------------------------------------------------------

#include <Keypad.h>

const byte ROWS = 4; 
const byte COLS = 4; 
char keys[ROWS][COLS] = {
  {'1','2','3','A'},
  {'4','5','6','B'},
  {'7','8','9','C'},
  {'*','0','#','D'}
};
byte rowPins[ROWS] = {9, 8, 7, 6}; 
byte colPins[COLS] = {5, 4, 3, 2}; 

Keypad keypad = Keypad(makeKeymap(keys), rowPins, colPins, ROWS, COLS);

String password = "1234";  // Set password
String input = "";

int greenLed = 11;
int redLed = 12;
int buzzer = 10;

void setup(){
  pinMode(greenLed, OUTPUT);
  pinMode(redLed, OUTPUT);
  pinMode(buzzer, OUTPUT);
  Serial.begin(9600);
  Serial.println("Enter Password:");
}

void loop(){
  char key = keypad.getKey();
  if (key){
    if (key == '#'){   // Enter key
      if (input == password){
        Serial.println("Access Granted!");
        digitalWrite(greenLed, HIGH);
        digitalWrite(redLed, LOW);
        tone(buzzer, 1000, 500);  // Beep
      } else {
        Serial.println("Access Denied!");
        digitalWrite(greenLed, LOW);
        digitalWrite(redLed, HIGH);
        tone(buzzer, 200, 1000);  // Error tone
      }
      input = "";  // Reset input
    } else if (key == '*'){  // Clear input
      input = "";
      Serial.println("Input Cleared");
    } else {
      input += key;
      Serial.print("*"); // Hide password
    }
  }
}
